---
import { Image } from "astro:assets";
import garden from "../assets/garden.webp";
---

<section id="experience" class="py-24 bg-white overflow-hidden">
  <div class="container mx-auto px-4">
    <div class="flex flex-col lg:flex-row gap-16 items-center">
      <!-- Text Content -->
      <div class="w-full lg:w-1/2 space-y-8">
        <div
          class="inline-block px-4 py-1 bg-emerald-50 text-emerald-700 rounded-full text-sm font-medium mb-4"
        >
          Nuestra Filosofía
        </div>
        <h2
          class="text-4xl md:text-5xl font-serif text-slate-800 leading-tight"
        >
          Más que un hotel, <br /><span class="text-emerald-600 italic"
            >una experiencia de sanación.</span
          >
        </h2>

        <p class="text-lg text-slate-600 leading-relaxed font-light">
          En Centro de Descanso Los Poetas entendemos que el verdadero lujo no
          está en lo material, sino en la <strong class="text-slate-800"
            >paz mental</strong
          >. Nuestro espacio ha sido cuidadosamente diseñado bajo principios de
          psicología ambiental para reducir el estrés cognitivo y fomentar una
          desconexión profunda.
        </p>

        <div class="space-y-6 pl-4 border-l-2 border-emerald-100">
          <div>
            <h3 class="text-lg font-semibold text-slate-800 mb-1">
              Silencio Curativo
            </h3>
            <p class="text-slate-600">
              Un entorno libre de ruido urbano, donde el único sonido es la
              naturaleza, permitiendo que tu sistema nervioso se recalibre.
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-slate-800 mb-1">
              Diseño Biofílico
            </h3>
            <p class="text-slate-600">
              Espacios que integran la luz natural y texturas orgánicas para
              reconectarte con tus ritmos biológicos naturales.
            </p>
          </div>
          <div>
            <h3 class="text-lg font-semibold text-slate-800 mb-1">
              Desintoxicación Digital
            </h3>
            <p class="text-slate-600">
              Fomentamos un descanso real sin televisores en las habitaciones.
              Aquí, la mejor pantalla es el atardecer.
            </p>
          </div>
        </div>
      </div>

      <!-- Image/Visual -->
      <div class="w-full lg:w-1/2 relative">
        <div
          class="relative z-10 rounded-2xl overflow-hidden shadow-2xl skew-y-1 lg:skew-y-3 transform transition-transform hover:skew-y-0 duration-700"
        >
          <Image
            src={garden}
            alt="Jardines del Centro de Descanso Los Poetas"
            class="w-full h-auto object-cover"
            loading="lazy"
            widths={[400, 600, 800]}
            sizes="(max-width: 1024px) 100vw, 50vw"
          />
        </div>
        <!-- Decorative elements -->
        <div
          class="absolute top-10 -right-10 w-40 h-40 bg-orange-100 rounded-full mix-blend-multiply filter blur-2xl opacity-70 z-0"
        >
        </div>
        <div
          class="absolute -bottom-10 -left-10 w-40 h-40 bg-emerald-100 rounded-full mix-blend-multiply filter blur-2xl opacity-70 z-0"
        >
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  // Text content animation from left
  gsap.from("#experience .w-full.lg\\:w-1\\/2:first-child", {
    x: -100,
    opacity: 0,
    duration: 1,
    scrollTrigger: {
      trigger: "#experience",
      start: "top 80%",
      end: "top 50%",
      scrub: 1,
    },
  });

  // Image animation from right
  gsap.from("#experience .w-full.lg\\:w-1\\/2:last-child", {
    x: 100,
    opacity: 0,
    duration: 1,
    scrollTrigger: {
      trigger: "#experience",
      start: "top 80%",
      end: "top 50%",
      scrub: 1,
    },
  });

  // Feature items stagger animation
  gsap.from("#experience .space-y-6 > div", {
    y: 30,
    opacity: 0,
    stagger: 0.2,
    duration: 0.8,
    scrollTrigger: {
      trigger: "#experience .space-y-6",
      start: "top 85%",
      toggleActions: "play none none reverse",
    },
  });

  // Decorative blobs floating animation
  gsap.to("#experience .absolute", {
    y: "random(-20, 20)",
    x: "random(-20, 20)",
    duration: 3,
    ease: "sine.inOut",
    stagger: 0.5,
    repeat: -1,
    yoyo: true,
  });
</script>
